datapath = "~/Documents/Research/Eawag/Projects/8.Blue-Green/BlueGreen/Data/"
to.script = "~/Documents/Research/Eawag/Projects/8.Blue-Green/BlueGreen/Scripts/"
graphpath = "~/Documents/Research/Eawag/Projects/8.Blue-Green/4.Results/"
to.data = "~/Documents/Research/Eawag/Projects/8.Blue-Green/BlueGreen/Data/"
to.script = "~/Documents/Research/Eawag/Projects/8.Blue-Green/BlueGreen/Scripts/"
to.output = "~/Documents/Research/Eawag/Projects/8.Blue-Green/4.Results/"
library(tidyverse)
?read_delim()
Prot.b0 =  read_delim(paste0(datapath,"BG_protist_data_(20170307).txt")) #Protist
Prot.b0 =  read_csv(paste0(datapath,"BG_protist_data_(20170307).txt")) #Protist
Prot.b0 =  read_csv(paste0(datapath,"BG_protist_data_(20170307).csv")) #Protist
to.data
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
##################
rm(list=ls())
to.data = "~/Documents/Research/Eawag/Projects/8.Blue-Green/BlueGreen/Data/"
to.script = "~/Documents/Research/Eawag/Projects/8.Blue-Green/BlueGreen/Scripts/"
to.output = "~/Documents/Research/Eawag/Projects/8.Blue-Green/4.Results/" #Outside the local Git repo
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
wd()
swd()
getwd()
to.data = "~/Data/"
paste0(to.data,"BG_protist_data_(20170307).csv")
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
to.data = "../Data/"
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
to.data = "/Data/"
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
to.data = "./Data/"
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
head(Prot.b0)
Cyto0 = read_delim(paste0(to.data,"FULL_Cyto_BlueGreen(20160816).txt")) # Bacteria
?read_delim()
?read.delim()
Cyto0 = read_delim(paste0(to.data,"FULL_Cyto_BlueGreen(20160816).txt"),delim="") # Bacteria
Cyto0 = read_table(paste0(to.data,"FULL_Cyto_BlueGreen(20160816).txt"),delim="") # Bacteria
Cyto0 = read_table(paste0(to.data,"FULL_Cyto_BlueGreen(20160816).txt")) # Bacteria
head(Cyto0)
Cyto0 = read_tsv(paste0(to.data,"FULL_Cyto_BlueGreen(20160816).txt")) # Bacteria
head(Cyto0)
install.packages("rstan", repos = "https://cloud.r-project.org/", dependencies=TRUE)
library(rstan)
fx <- inline::cxxfunction( signature(x = "integer", y = "numeric" ) , '
return ScalarReal( INTEGER(x)[0] * REAL(y)[0] ) ;
' )
fx( 2L, 5 ) # should be 10
fx
install.package(c("coda","mvtnorm","devtools"))
install.packages(c("coda","mvtnorm","devtools"))
library(devtools)
install_github("rmcelreath/rethinking")
getwd()
to.data = "./data/"
to.script = "./scripts/"
to.output = "./output/"
to.figs = "./figs/"
to.R = "./output/"
library(tidyverse)
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
Cyto0 = read_tsv(paste0(to.data,"FULL_Cyto_BlueGreen(20160816).txt")) # Bacteria
Prot.b = Prot.b0
Cyto = Cyto0
View(Cyto)
View(Prot.b)
Prob.b$date
Prot.b$date
lala <- ifelse(Prot.b$date=="16-05-2",0, ifelse(Prot.b$date=="5/9/2016",7, ifelse(Prot.b$date=="5/17/2016",15,
ifelse(Prot.b$date=="16-05-23",21, ifelse(Prot.b$date=="16-05-31",29)))))
?ifelse()
lala <- ifelse(Prot.b$date=="16-05-2",0, ifelse(Prot.b$date=="5/9/2016",7, ifelse(Prot.b$date=="5/17/2016",15,
ifelse(Prot.b$date=="16-05-23",21, ifelse(Prot.b$date=="16-05-31",29, NA)))))
lala
lala <- ifelse(Prot.b$date=="16-05-02",0, ifelse(Prot.b$date=="5/9/2016",7, ifelse(Prot.b$date=="5/17/2016",15,
ifelse(Prot.b$date=="16-05-23",21, ifelse(Prot.b$date=="16-05-31",29, NA)))))
lala
length(lala==0)
length(lala[lala==0])
length(lala[lala==7])
length(lala[lala==15])
length(lala[lala==21])
length(lala[lala==29])
cyto$date
Cyto$Date
as.factor(Cyto$Date)
Cyto$day <- ifelse(Prot.b$date=="20160502",0, ifelse(Prot.b$date=="20160509",7, ifelse(Prot.b$date=="20160517",15,
ifelse(Prot.b$date=="20160523",21, ifelse(Prot.b$date=="20160531",29, NA)))))
head(Cyto)
Cyto$day <- ifelse(Cyto$date=="20160502",0, ifelse(Cyto$date=="20160509",7, ifelse(Cyto$date=="20160517",15,
ifelse(Cyto$date=="20160523",21, ifelse(Cyto$date=="20160531",29, NA)))))
Cyto$day <- ifelse(Cyto$Date=="20160502",0, ifelse(Cyto$Date=="20160509",7, ifelse(Cyto$Date=="20160517",15,
ifelse(Cyto$Date=="20160523",21, ifelse(Cyto$Date=="20160531",29, NA)))))
length(lala[lala==29])
length(Cyto$day[Cyto$day==29])
length(Cyto$day[Cyto$day==7])
length(Prot.b$day[Prot.b$day==7])
Prot.b$day <- ifelse(Prot.b$date=="16-05-02",0, ifelse(Prot.b$date=="5/9/2016",7, ifelse(Prot.b$date=="5/17/2016",15,
ifelse(Prot.b$date=="16-05-23",21, ifelse(Prot.b$date=="16-05-31",29, NA)))))
length(Prot.b$day[Prot.b$day==7])
length(Prot.b$day[Prot.b$day==7]) #replicate (A,B,C,D) x Treatment (connected,isolated) + 14 monocultures = 302
head(Prot.b)
head(Cyto)
warnings()
head(Prot.b)
head(Cyto)
View(Prot.b)
View(Cyto)
cl.prot <- Prot.b %>%
filter(Replicate %in% c(A,B,C,D)) %>%
select(day,Treatment,Landscape,Replicate,Size,Rot,Spi,Ble,Pca,Col,Chi,Tet,Other)
cl.prot <- Prot.b %>%
filter(Replicate %in% c("A","B","C","D")) %>%
select(day,Treatment,Landscape,Replicate,Size,Rot,Spi,Ble,Pca,Col,Chi,Tet,Other)
View(cl.prot)
str(cl.prot)
head(Cyto)
(Cyto$Count*1000)
cl.cyto <- Cyto %>%
filter(Replicate %in% c("A","B","C","D")) %>%
mutate(bact.dens = (Count/Volume.ul*1000) * 1000) %>%  #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
select(bact.dens)
cl.cyto <- Cyto %>%
filter(Replicate %in% c("A","B","C","D")) %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>%  #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
select(bact.dens)
View(cl.cyto)
head(Prot.b)
Prot.B$Landscape
Prot.b$Landscape
head(Prot.b)
cl.cyto <- Cyto %>%
filter(Replicate %in% c("A","B","C","D") & Landscape == "Blue") %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000, #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
bact.blue = bact.dens[Cyto$Landscape=="Blue"],
bact.green =bact.dens[Cyto$Landscape=="Green"]) %>%
select(bact.blue,bact.green)
cl.cyto <- Cyto %>%
filter(Replicate %in% c("A","B","C","D")) %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
select(bact.dens)
cl.cyto <- Cyto %>%
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
select(bact.dens)
cl.cyto <- Cyto %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
mutate(bact.blue = bact.dens[Cyto$Landscape=="Blue"],
bact.green =bact.dens[Cyto$Landscape=="Green"]) %>%
select(bact.dens,bact.blue,bact.green)
head(Cyto)
length(Count[Cyto$Landscape=="Green"])
length(Cyto$Count[Cyto$Landscape=="Green"])
length(Cyto$Count[Cyto$Landscape=="Blue"])
Cyto$Count[Cyto$Landscape=="Green"]
?length()
is.na(Cyto$Count[Cyto$Landscape=="Green"])
which(is.na(Cyto$Count[Cyto$Landscape=="Green"]))
length(which(is.na(Cyto$Count[Cyto$Landscape=="Green"])))
length(Cyto$Count[Cyto$Landscape=="Green"])
864+216
length(Cyto$Count[Cyto$Landscape=="Blue"])
View(Cyto)
View(Prot.b)
View(cl.prot)
Cyto$Count[Cyto$Landscape=="Green"]
Cyto$Count[Cyto$Landscape=="Green" & Cyto$Treatment=="Isolated"]
Cyto0 = read_tsv(paste0(to.data,"FULL_Cyto_BlueGreen(20160623).txt")) # Bacteria
Cyto = Cyto0
Cyto$day <- ifelse(Cyto$Date=="20160502",0, ifelse(Cyto$Date=="20160509",7, ifelse(Cyto$Date=="20160517",15,
ifelse(Cyto$Date=="20160523",21, ifelse(Cyto$Date=="20160531",29, NA)))))
length(Cyto$Count[Cyto$Landscape=="Green"])
length(Cyto$Count[Cyto$Landscape=="Blue"])
length(Cyto$Count[Cyto$Landscape=="Green" & Replicate %in% c("A","B","C","D")])
length(Cyto$Count[Cyto$Landscape=="Green" & Cyto$Replicate %in% c("A","B","C","D")])
length(Cyto$Count[Cyto$Landscape=="Blue" & Replicate %in% c("A","B","C","D")])
length(Cyto$Count[Cyto$Landscape=="Blue" & Cyto$Replicate %in% c("A","B","C","D")])
length(Cyto$Count[Cyto$Landscape=="Green" & Cyto$Replicate %in% c("A","B","C","D")])
length(Cyto$Count[Cyto$Landscape=="Blue" & Cyto$Replicate %in% c("A","B","C","D")])
cl.cyto <- Cyto %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
mutate(bact.blue = bact.dens[Cyto$Landscape=="Blue"],
bact.green = bact.dens[Cyto$Landscape=="Green"]) %>%
select(bact.dens,bact.blue,bact.green)
1168-1152
Cyto0 = read_tsv(paste0(to.data,"FULL_Cyto_BlueGreen(20160623).txt")) # Bacteria
Cyto$day <- ifelse(Cyto$Date=="20160502",0, ifelse(Cyto$Date=="20160509",7, ifelse(Cyto$Date=="20160517",15,
ifelse(Cyto$Date=="20160523",21, ifelse(Cyto$Date=="20160531",29, NA)))))
length(Cyto$Count[Cyto$Landscape=="Green" & Cyto$Replicate %in% c("A","B","C","D")])
length(Cyto$Count[Cyto$Landscape=="Blue" & Cyto$Replicate %in% c("A","B","C","D")])
Cyto0 = read_tsv(paste0(to.data,"FULL_Cyto_BlueGreen(20160623).txt")) # Bacteria
View(Cyto)
Cyto = Cyto0
Cyto$day <- ifelse(Cyto$Date=="20160502",0, ifelse(Cyto$Date=="20160509",7, ifelse(Cyto$Date=="20160517",15,
ifelse(Cyto$Date=="20160523",21, ifelse(Cyto$Date=="20160531",29, NA)))))
length(Cyto$Count[Cyto$Landscape=="Green" & Cyto$Replicate %in% c("A","B","C","D")])
length(Cyto$Count[Cyto$Landscape=="Blue" & Cyto$Replicate %in% c("A","B","C","D")])
cl.cyto <- Cyto %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
mutate(bact.blue = bact.dens[Cyto$Landscape=="Blue"],
bact.green = bact.dens[Cyto$Landscape=="Green"]) %>%
select(bact.dens,bact.blue,bact.green)
View(cl.cyto)
################
#Directory paths
##################
to.data = "./data/"
to.script = "./scripts/"
to.output = "./output/"
to.figs = "./figs/"
to.R = "./output/"
##################
#Load packages
##################
library(tidyverse)
##################
#Load data in R environment
##################
Prot.b0 =  read_csv(paste0(to.data,"BG_protist_data_(20170307).csv")) #Protist
Cyto0 = read_tsv(paste0(to.data,"FULL_Cyto_BlueGreen(20160623).txt")) # Bacteria
Prot.b = Prot.b0
Cyto = Cyto0
Prot.b$day <- ifelse(Prot.b$date=="16-05-02",0, ifelse(Prot.b$date=="5/9/2016",7, ifelse(Prot.b$date=="5/17/2016",15,
ifelse(Prot.b$date=="16-05-23",21, ifelse(Prot.b$date=="16-05-31",29, NA)))))
Cyto$day <- ifelse(Cyto$Date=="20160502",0, ifelse(Cyto$Date=="20160509",7, ifelse(Cyto$Date=="20160517",15,
ifelse(Cyto$Date=="20160523",21, ifelse(Cyto$Date=="20160531",29, NA)))))
cl.prot <- Prot.b %>%
filter(Replicate %in% c("A","B","C","D")) %>%
select(day,Treatment,Landscape,Replicate,Size,Rot,Spi,Ble,Pca,Col,Chi,Tet,Other) %>%
arrange()
cl.cyto <- Cyto %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
mutate(bact.blue = Count[Cyto$Landscape=="Blue"],
bact.green = Count[Cyto$Landscape=="Green"]) %>%
select(Count,bact.blue,bact.green)
View(cl.cyto)
cl.cyto <- Cyto %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
mutate(bact.blue = Count[Cyto$Landscape=="Blue"],
bact.green = Count[Cyto$Landscape=="Green"]) %>%
select(Date,Treatment,Count,bact.blue,bact.green)
View(cl.cyto)
Count[Cyto$Landscape=="Green"]
Cyto$Count[Cyto$Landscape=="Green"]
Cyto$Count[Cyto$Landscape=="Green" & Cyto$Replicate %in% c("A","B","C","D")]
cl.cyto <- Cyto %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
mutate(bact.blue = Count[Cyto$Landscape=="Blue"],
bact.green = Count[Cyto$Landscape=="Green"]) %>%
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
select(Date,Treatment,Count,bact.blue,bact.green)
cl.cyto <- Cyto %>%
mutate(bact.dens = (Count/Volume.uL*1000) * 1000) %>% #convert from dens/50ul to dens/mL and then multiply by the cytometry dilution factor (1000)
filter(Replicate %in% c("A","B","C","D") & Landscape=="Blue") %>%
mutate(bact.blue = Cyto$Count[Cyto$Landscape=="Blue"],
bact.green = Cyto$Count[Cyto$Landscape=="Green"]) %>%
select(Date,Treatment,Count,bact.blue,bact.green)
View(cl.cyto)
